<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.5 Templates | blogdown: Creating Websites with R Markdown</title>
  <meta name="description" content="A guide to creating websites with R Markdown and the R package blogdown." />
  <meta name="generator" content="bookdown 0.34.2 and GitBook 2.6.7" />

  <meta property="og:title" content="2.5 Templates | blogdown: Creating Websites with R Markdown" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://bookdown.org/yihui/blogdown//images/cover.png" />
  <meta property="og:description" content="A guide to creating websites with R Markdown and the R package blogdown." />
  <meta name="github-repo" content="rstudio/blogdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.5 Templates | blogdown: Creating Websites with R Markdown" />
  
  <meta name="twitter:description" content="A guide to creating websites with R Markdown and the R package blogdown." />
  <meta name="twitter:image" content="https://bookdown.org/yihui/blogdown//images/cover.png" />

<meta name="author" content="Yihui Xie, Amber Thomas, Alison Presmanes Hill" />


<meta name="date" content="2024-05-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="themes.html"/>
<link rel="next" href="custom-layouts.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Creating Websites with R Markdown</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="structure-of-the-book.html"><a href="structure-of-the-book.html"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="software-info.html"><a href="software-info.html"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>About the Authors</a>
<ul>
<li class="chapter" data-level="" data-path="yihui-xie.html"><a href="yihui-xie.html"><i class="fa fa-check"></i>Yihui Xie</a></li>
<li class="chapter" data-level="" data-path="amber-thomas.html"><a href="amber-thomas.html"><i class="fa fa-check"></i>Amber Thomas</a></li>
<li class="chapter" data-level="" data-path="alison-presmanes-hill.html"><a href="alison-presmanes-hill.html"><i class="fa fa-check"></i>Alison Presmanes Hill</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i><b>1</b> Get Started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1.1</b> Installation</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="installation.html"><a href="installation.html#installation-troubleshooting"><i class="fa fa-check"></i><b>1.1.1</b> Installation troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="a-quick-example.html"><a href="a-quick-example.html"><i class="fa fa-check"></i><b>1.2</b> A quick example</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="a-quick-example.html"><a href="a-quick-example.html#prerequisites"><i class="fa fa-check"></i><b>1.2.1</b> Prerequisites</a></li>
<li class="chapter" data-level="1.2.2" data-path="a-quick-example.html"><a href="a-quick-example.html#create-project"><i class="fa fa-check"></i><b>1.2.2</b> Create project</a></li>
<li class="chapter" data-level="1.2.3" data-path="a-quick-example.html"><a href="a-quick-example.html#serve-site"><i class="fa fa-check"></i><b>1.2.3</b> Serve site</a></li>
<li class="chapter" data-level="1.2.4" data-path="a-quick-example.html"><a href="a-quick-example.html#edit-content"><i class="fa fa-check"></i><b>1.2.4</b> Edit content</a></li>
<li class="chapter" data-level="1.2.5" data-path="a-quick-example.html"><a href="a-quick-example.html#when-in-doubt-run-blogdowncheck_site"><i class="fa fa-check"></i><b>1.2.5</b> When in doubt, run <code>blogdown::check_site()</code></a></li>
<li class="chapter" data-level="1.2.6" data-path="a-quick-example.html"><a href="a-quick-example.html#configure-site"><i class="fa fa-check"></i><b>1.2.6</b> Configure site</a></li>
<li class="chapter" data-level="1.2.7" data-path="a-quick-example.html"><a href="a-quick-example.html#summary"><i class="fa fa-check"></i><b>1.2.7</b> Summary</a></li>
<li class="chapter" data-level="1.2.8" data-path="a-quick-example.html"><a href="a-quick-example.html#what-is-next"><i class="fa fa-check"></i><b>1.2.8</b> What is next?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="a-quick-deploy.html"><a href="a-quick-deploy.html"><i class="fa fa-check"></i><b>1.3</b> A quick deploy</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="a-quick-deploy.html"><a href="a-quick-deploy.html#build-site"><i class="fa fa-check"></i><b>1.3.1</b> Build site</a></li>
<li class="chapter" data-level="1.3.2" data-path="a-quick-deploy.html"><a href="a-quick-deploy.html#use-netlify-drop"><i class="fa fa-check"></i><b>1.3.2</b> Use Netlify Drop</a></li>
<li class="chapter" data-level="1.3.3" data-path="a-quick-deploy.html"><a href="a-quick-deploy.html#sign-up-for-netlify"><i class="fa fa-check"></i><b>1.3.3</b> Sign up for Netlify</a></li>
<li class="chapter" data-level="1.3.4" data-path="a-quick-deploy.html"><a href="a-quick-deploy.html#what-is-next-1"><i class="fa fa-check"></i><b>1.3.4</b> What is next?</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="rstudio-ide.html"><a href="rstudio-ide.html"><i class="fa fa-check"></i><b>1.4</b> RStudio IDE</a></li>
<li class="chapter" data-level="1.5" data-path="global-options.html"><a href="global-options.html"><i class="fa fa-check"></i><b>1.5</b> Global options</a></li>
<li class="chapter" data-level="1.6" data-path="output-format.html"><a href="output-format.html"><i class="fa fa-check"></i><b>1.6</b> R Markdown vs. Markdown</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="output-format.html"><a href="output-format.html#basic-features-of-r-markdown"><i class="fa fa-check"></i><b>1.6.1</b> Basic features of R Markdown</a></li>
<li class="chapter" data-level="1.6.2" data-path="output-format.html"><a href="output-format.html#blogdown-method"><i class="fa fa-check"></i><b>1.6.2</b> Render R Markdown to Markdown or HTML?</a></li>
<li class="chapter" data-level="1.6.3" data-path="output-format.html"><a href="output-format.html#customize-the-r-markdown-output-format"><i class="fa fa-check"></i><b>1.6.3</b> Customize the R Markdown output format</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="other-themes.html"><a href="other-themes.html"><i class="fa fa-check"></i><b>1.7</b> Other themes</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="other-themes.html"><a href="other-themes.html#choosing-themes"><i class="fa fa-check"></i><b>1.7.1</b> Choosing themes</a></li>
<li class="chapter" data-level="1.7.2" data-path="other-themes.html"><a href="other-themes.html#new-site-new-theme"><i class="fa fa-check"></i><b>1.7.2</b> New site, new theme</a></li>
<li class="chapter" data-level="1.7.3" data-path="other-themes.html"><a href="other-themes.html#existing-site-new-theme"><i class="fa fa-check"></i><b>1.7.3</b> Existing site, new theme</a></li>
<li class="chapter" data-level="1.7.4" data-path="other-themes.html"><a href="other-themes.html#existing-site-update-theme"><i class="fa fa-check"></i><b>1.7.4</b> Existing site, update theme</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>1.8</b> A recommended workflow</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="hugo.html"><a href="hugo.html"><i class="fa fa-check"></i><b>2</b> Hugo</a>
<ul>
<li class="chapter" data-level="2.1" data-path="static-sites.html"><a href="static-sites.html"><i class="fa fa-check"></i><b>2.1</b> Static sites and Hugo</a></li>
<li class="chapter" data-level="2.2" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>2.2</b> Configuration</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="configuration.html"><a href="configuration.html#toml-syntax"><i class="fa fa-check"></i><b>2.2.1</b> TOML Syntax</a></li>
<li class="chapter" data-level="2.2.2" data-path="configuration.html"><a href="configuration.html#options"><i class="fa fa-check"></i><b>2.2.2</b> Options</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="content.html"><a href="content.html"><i class="fa fa-check"></i><b>2.3</b> Content</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="content.html"><a href="content.html#yaml-metadata"><i class="fa fa-check"></i><b>2.3.1</b> YAML metadata</a></li>
<li class="chapter" data-level="2.3.2" data-path="content.html"><a href="content.html#body"><i class="fa fa-check"></i><b>2.3.2</b> Body</a></li>
<li class="chapter" data-level="2.3.3" data-path="content.html"><a href="content.html#shortcode"><i class="fa fa-check"></i><b>2.3.3</b> Shortcode</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="themes.html"><a href="themes.html"><i class="fa fa-check"></i><b>2.4</b> Themes</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="themes.html"><a href="themes.html#the-default-theme"><i class="fa fa-check"></i><b>2.4.1</b> The default theme</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="templates.html"><a href="templates.html"><i class="fa fa-check"></i><b>2.5</b> Templates</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="templates.html"><a href="templates.html#a-minimal-example"><i class="fa fa-check"></i><b>2.5.1</b> A minimal example</a></li>
<li class="chapter" data-level="2.5.2" data-path="templates.html"><a href="templates.html#how-to"><i class="fa fa-check"></i><b>2.5.2</b> Implementing more features</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="custom-layouts.html"><a href="custom-layouts.html"><i class="fa fa-check"></i><b>2.6</b> Custom layouts</a></li>
<li class="chapter" data-level="2.7" data-path="static-files.html"><a href="static-files.html"><i class="fa fa-check"></i><b>2.7</b> Static files</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="deployment.html"><a href="deployment.html"><i class="fa fa-check"></i><b>3</b> Deployment</a>
<ul>
<li class="chapter" data-level="3.1" data-path="netlify.html"><a href="netlify.html"><i class="fa fa-check"></i><b>3.1</b> Netlify</a></li>
<li class="chapter" data-level="3.2" data-path="github-pages.html"><a href="github-pages.html"><i class="fa fa-check"></i><b>3.2</b> GitHub Pages</a></li>
<li class="chapter" data-level="3.3" data-path="travis-github.html"><a href="travis-github.html"><i class="fa fa-check"></i><b>3.3</b> Travis + GitHub</a></li>
<li class="chapter" data-level="3.4" data-path="gitlab-pages.html"><a href="gitlab-pages.html"><i class="fa fa-check"></i><b>3.4</b> GitLab Pages</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="migration.html"><a href="migration.html"><i class="fa fa-check"></i><b>4</b> Migration</a>
<ul>
<li class="chapter" data-level="4.1" data-path="from-jekyll.html"><a href="from-jekyll.html"><i class="fa fa-check"></i><b>4.1</b> From Jekyll</a></li>
<li class="chapter" data-level="4.2" data-path="from-wordpress.html"><a href="from-wordpress.html"><i class="fa fa-check"></i><b>4.2</b> From WordPress</a></li>
<li class="chapter" data-level="4.3" data-path="from-other-systems.html"><a href="from-other-systems.html"><i class="fa fa-check"></i><b>4.3</b> From other systems</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="other-generators.html"><a href="other-generators.html"><i class="fa fa-check"></i><b>5</b> Other Generators</a>
<ul>
<li class="chapter" data-level="5.1" data-path="jekyll.html"><a href="jekyll.html"><i class="fa fa-check"></i><b>5.1</b> Jekyll</a></li>
<li class="chapter" data-level="5.2" data-path="hexo.html"><a href="hexo.html"><i class="fa fa-check"></i><b>5.2</b> Hexo</a></li>
<li class="chapter" data-level="5.3" data-path="rmd-website.html"><a href="rmd-website.html"><i class="fa fa-check"></i><b>5.3</b> Default site generator in rmarkdown</a></li>
<li class="chapter" data-level="5.4" data-path="pkgdown.html"><a href="pkgdown.html"><i class="fa fa-check"></i><b>5.4</b> pkgdown</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>A</b> R Markdown</a></li>
<li class="chapter" data-level="B" data-path="website-basics.html"><a href="website-basics.html"><i class="fa fa-check"></i><b>B</b> Website Basics</a>
<ul>
<li class="chapter" data-level="B.1" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>B.1</b> HTML</a></li>
<li class="chapter" data-level="B.2" data-path="css.html"><a href="css.html"><i class="fa fa-check"></i><b>B.2</b> CSS</a></li>
<li class="chapter" data-level="B.3" data-path="javascript.html"><a href="javascript.html"><i class="fa fa-check"></i><b>B.3</b> JavaScript</a></li>
<li class="chapter" data-level="B.4" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i><b>B.4</b> Useful resources</a>
<ul>
<li class="chapter" data-level="B.4.1" data-path="useful-resources.html"><a href="useful-resources.html#file-optimization"><i class="fa fa-check"></i><b>B.4.1</b> File optimization</a></li>
<li class="chapter" data-level="B.4.2" data-path="useful-resources.html"><a href="useful-resources.html#helping-people-find-your-site"><i class="fa fa-check"></i><b>B.4.2</b> Helping people find your site</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="domain-name.html"><a href="domain-name.html"><i class="fa fa-check"></i><b>C</b> Domain Name</a>
<ul>
<li class="chapter" data-level="C.1" data-path="registration.html"><a href="registration.html"><i class="fa fa-check"></i><b>C.1</b> Registration</a></li>
<li class="chapter" data-level="C.2" data-path="nameservers.html"><a href="nameservers.html"><i class="fa fa-check"></i><b>C.2</b> Nameservers</a></li>
<li class="chapter" data-level="C.3" data-path="dns-records.html"><a href="dns-records.html"><i class="fa fa-check"></i><b>C.3</b> DNS records</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="advanced-topics.html"><a href="advanced-topics.html"><i class="fa fa-check"></i><b>D</b> Advanced Topics</a>
<ul>
<li class="chapter" data-level="D.1" data-path="more-global-options.html"><a href="more-global-options.html"><i class="fa fa-check"></i><b>D.1</b> More global options</a></li>
<li class="chapter" data-level="D.2" data-path="livereload.html"><a href="livereload.html"><i class="fa fa-check"></i><b>D.2</b> LiveReload</a></li>
<li class="chapter" data-level="D.3" data-path="local-preview.html"><a href="local-preview.html"><i class="fa fa-check"></i><b>D.3</b> Building a website for local preview</a></li>
<li class="chapter" data-level="D.4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>D.4</b> Functions in the blogdown package</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="functions.html"><a href="functions.html#exported-functions"><i class="fa fa-check"></i><b>D.4.1</b> Exported functions</a></li>
<li class="chapter" data-level="D.4.2" data-path="functions.html"><a href="functions.html#non-exported-functions"><i class="fa fa-check"></i><b>D.4.2</b> Non-exported functions</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="dep-path.html"><a href="dep-path.html"><i class="fa fa-check"></i><b>D.5</b> Paths of figures and other dependencies</a></li>
<li class="chapter" data-level="D.6" data-path="html-widgets.html"><a href="html-widgets.html"><i class="fa fa-check"></i><b>D.6</b> HTML widgets</a></li>
<li class="chapter" data-level="D.7" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>D.7</b> Version control</a></li>
<li class="chapter" data-level="D.8" data-path="default-template.html"><a href="default-template.html"><i class="fa fa-check"></i><b>D.8</b> The default HTML template</a></li>
<li class="chapter" data-level="D.9" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>D.9</b> Different building methods</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="personal-experience.html"><a href="personal-experience.html"><i class="fa fa-check"></i><b>E</b> Personal Experience</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">blogdown: Creating Websites with R Markdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class="caution">
<p><strong>A note from the authors:</strong> Some of the information and instructions in this book are now out of date because of changes to Hugo and the blogdown package.
If you have suggestions for improving this book, please file an issue in our <a href= "https://github.com/rstudio/blogdown/issues/new?template=documentation.md" target="_blank">GitHub repository</a>.
Thanks for your patience while we work to update the book, and please stay tuned for the revised version!</p>
<p>In the meantime, you can find an introduction to the changes and new features in the <a href="https://posit.co/blog/blogdown-v1.0/" target = "_blank">v1.0 release blog post</a> and this <a href="https://www.apreshill.com/blog/2020-12-new-year-new-blogdown/" target="_blank">"Up & running with blogdown in 2021"</a> blog post.</p>
<p class="flushright">&mdash; Yihui, Amber, & Alison</p>
</div>
<div id="templates" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Templates<a href="templates.html#templates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Hugo 主题由两个主要组件组成：templates 和 web assets。前者是必不可少的，它告诉 Hugo 如何渲染页面。<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> 后者是可选的，但也很重要。它通常由 CSS 和 JavaScript 文件以及图像和视频等其他资源组成。这些资源决定了您网站的外观和功能，有些资源可能嵌入到您的网页内容中。</p>
<p>您可以从官方文档（<a href="https://gohugo.io/templates/overview/）了解有关" class="uri">https://gohugo.io/templates/overview/）了解有关</a> Hugo 模板的更多信息。有很多不同类型的模板。为了让你更容易掌握关键思想，我创建了一个非常小的 Hugo 主题，它涵盖了普通用户可能需要的大部分功能，但总行数只有 150 行左右，所以我们可以在以下小节中谈论该主题的所有源代码。</p>
<div id="a-minimal-example" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> A minimal example<a href="templates.html#a-minimal-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://github.com/yihui/hugo-xmin">XMin</a> 是一个 Hugo 主题，我花了大约 12 个小时从头开始编写。大约花了半个小时在模板上，花了 3.5 个小时在调整 CSS 样式上，花了 8 个小时在文档上（<a href="https://xmin.yihui.org" class="uri">https://xmin.yihui.org</a>）。我想这可能是一个代表性的案例，说明你在设计主题时会在每个部分花费多少时间。也许我们的本性是花更多的时间在 CSS 之类的装饰性内容上，而不是模板之类的基本内容上。同时，编码通常比文档更容易。</p>
<p>我们将展示 XMin 主题的源代码。由于主题将来可能会偶尔更新，因此您可以通过以下链接获取我们将在本节中讨论的固定版本：<a href="https://github.com/yihui/hugo-xmin/tree/4bb305。下面是主题中所有文件和目录的树形视图" class="uri">https://github.com/yihui/hugo-xmin/tree/4bb305。下面是主题中所有文件和目录的树形视图</a>：</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="templates.html#cb14-1" tabindex="-1"></a><span class="ex">hugo-xmin/</span></span>
<span id="cb14-2"><a href="templates.html#cb14-2" tabindex="-1"></a><span class="ex">├──</span> LICENSE.md</span>
<span id="cb14-3"><a href="templates.html#cb14-3" tabindex="-1"></a><span class="ex">├──</span> README.md</span>
<span id="cb14-4"><a href="templates.html#cb14-4" tabindex="-1"></a><span class="ex">├──</span> archetypes</span>
<span id="cb14-5"><a href="templates.html#cb14-5" tabindex="-1"></a><span class="ex">│</span>   └── default.md</span>
<span id="cb14-6"><a href="templates.html#cb14-6" tabindex="-1"></a><span class="ex">├──</span> layouts</span>
<span id="cb14-7"><a href="templates.html#cb14-7" tabindex="-1"></a><span class="ex">│</span>   ├── 404.html</span>
<span id="cb14-8"><a href="templates.html#cb14-8" tabindex="-1"></a><span class="ex">│</span>   ├── _default</span>
<span id="cb14-9"><a href="templates.html#cb14-9" tabindex="-1"></a><span class="ex">│</span>   │   ├── list.html</span>
<span id="cb14-10"><a href="templates.html#cb14-10" tabindex="-1"></a><span class="ex">│</span>   │   ├── single.html</span>
<span id="cb14-11"><a href="templates.html#cb14-11" tabindex="-1"></a><span class="ex">│</span>   │   └── terms.html</span>
<span id="cb14-12"><a href="templates.html#cb14-12" tabindex="-1"></a><span class="ex">│</span>   └── partials</span>
<span id="cb14-13"><a href="templates.html#cb14-13" tabindex="-1"></a><span class="ex">│</span>       ├── foot_custom.html</span>
<span id="cb14-14"><a href="templates.html#cb14-14" tabindex="-1"></a><span class="ex">│</span>       ├── footer.html</span>
<span id="cb14-15"><a href="templates.html#cb14-15" tabindex="-1"></a><span class="ex">│</span>       ├── head_custom.html</span>
<span id="cb14-16"><a href="templates.html#cb14-16" tabindex="-1"></a><span class="ex">│</span>       └── header.html</span>
<span id="cb14-17"><a href="templates.html#cb14-17" tabindex="-1"></a><span class="ex">├──</span> static</span>
<span id="cb14-18"><a href="templates.html#cb14-18" tabindex="-1"></a><span class="ex">│</span>   └── css</span>
<span id="cb14-19"><a href="templates.html#cb14-19" tabindex="-1"></a><span class="ex">│</span>       ├── fonts.css</span>
<span id="cb14-20"><a href="templates.html#cb14-20" tabindex="-1"></a><span class="ex">│</span>       └── style.css</span>
<span id="cb14-21"><a href="templates.html#cb14-21" tabindex="-1"></a><span class="ex">└──</span> exampleSite</span>
<span id="cb14-22"><a href="templates.html#cb14-22" tabindex="-1"></a>    <span class="ex">├──</span> config.toml</span>
<span id="cb14-23"><a href="templates.html#cb14-23" tabindex="-1"></a>    <span class="ex">├──</span> content</span>
<span id="cb14-24"><a href="templates.html#cb14-24" tabindex="-1"></a>    <span class="ex">│</span>   ├── _index.md</span>
<span id="cb14-25"><a href="templates.html#cb14-25" tabindex="-1"></a>    <span class="ex">│</span>   ├── about.md</span>
<span id="cb14-26"><a href="templates.html#cb14-26" tabindex="-1"></a>    <span class="ex">│</span>   ├── note</span>
<span id="cb14-27"><a href="templates.html#cb14-27" tabindex="-1"></a>    <span class="ex">│</span>   │   ├── 2017-06-13-a-quick-note.md</span>
<span id="cb14-28"><a href="templates.html#cb14-28" tabindex="-1"></a>    <span class="ex">│</span>   │   └── 2017-06-14-another-note.md</span>
<span id="cb14-29"><a href="templates.html#cb14-29" tabindex="-1"></a>    <span class="ex">│</span>   └── post</span>
<span id="cb14-30"><a href="templates.html#cb14-30" tabindex="-1"></a>    <span class="ex">│</span>       ├── 2015-07-23-lorem-ipsum.md</span>
<span id="cb14-31"><a href="templates.html#cb14-31" tabindex="-1"></a>    <span class="ex">│</span>       └── 2016-02-14-hello-markdown.md</span>
<span id="cb14-32"><a href="templates.html#cb14-32" tabindex="-1"></a>    <span class="ex">├──</span> layouts</span>
<span id="cb14-33"><a href="templates.html#cb14-33" tabindex="-1"></a>    <span class="ex">│</span>   └── partials</span>
<span id="cb14-34"><a href="templates.html#cb14-34" tabindex="-1"></a>    <span class="ex">│</span>       └── foot_custom.html</span>
<span id="cb14-35"><a href="templates.html#cb14-35" tabindex="-1"></a>    <span class="ex">└──</span> public</span>
<span id="cb14-36"><a href="templates.html#cb14-36" tabindex="-1"></a>        <span class="ex">└──</span> ...</span></code></pre></div>
<p><code>LICENSE.md</code> 和 <code>README.md</code> 不是主题的必需组件，但您绝对应该为源代码选择许可证，以便其他人可以正确使用您的代码，并且 <code>README</code> 可以是您的软件的简短文档。</p>
<p>文件 <code>archetypes/default.md</code> 定义了用户可以创建新帖子的默认模板。在此主题中，<code>default.md</code> 仅提供空的 YAML metadata：</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="templates.html#cb15-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb15-2"><a href="templates.html#cb15-2" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<p>主题中最重要的目录是 <code>layouts/</code> 和 <code>static/</code>。HTML 模板存储在 <code>layouts/</code> 下，assets 存储在 <code>static/</code> 下。</p>
<p>要理解 <code>layouts/</code>，你必须了解一些关于 HTML 的基础知识（参见 Section <a href="html.html#html">B.1</a>），因为该目录下的模板大多是 HTML 文档或片段。在 <code>layouts/</code> 下有很多可能的子目录类型，但我们这里只介绍两种：<code>_default/</code> 和 <code>partials/</code>。</p>
<ul>
<li><p><code>_default/</code> 目录是放置网页默认模板的位置。在 XMin 主题中，我们有三个模板：<code>single.html</code>、<code>list.html</code> 和 <code>terms.html</code>。</p>
<ul>
<li><p><code>single.html</code> 是用于渲染单个页面的模板。单个页面基本上对应于 <code>content/</code> 下的 Markdown 文档，它包含 (YAML) metadata 和 content。通常我们想要呈现页面标题、作者、日期和内容。下面是 XMin 的 <code>single.html</code> 的源代码：</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb16-1"><a href="templates.html#cb16-1" tabindex="-1"></a>{{ partial &quot;header.html&quot; . }}</span>
<span id="cb16-2"><a href="templates.html#cb16-2" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;article-meta&quot;</span><span class="kw">&gt;</span></span>
<span id="cb16-3"><a href="templates.html#cb16-3" tabindex="-1"></a><span class="kw">&lt;h1&gt;&lt;span</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;title&quot;</span><span class="kw">&gt;</span>{{ .Title }}<span class="kw">&lt;/span&gt;&lt;/h1&gt;</span></span>
<span id="cb16-4"><a href="templates.html#cb16-4" tabindex="-1"></a>{{ with .Params.author }}</span>
<span id="cb16-5"><a href="templates.html#cb16-5" tabindex="-1"></a><span class="kw">&lt;h2</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;author&quot;</span><span class="kw">&gt;</span>{{ . }}<span class="kw">&lt;/h2&gt;</span></span>
<span id="cb16-6"><a href="templates.html#cb16-6" tabindex="-1"></a>{{ end }}</span>
<span id="cb16-7"><a href="templates.html#cb16-7" tabindex="-1"></a>{{ if .Params.date }}</span>
<span id="cb16-8"><a href="templates.html#cb16-8" tabindex="-1"></a><span class="kw">&lt;h2</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;date&quot;</span><span class="kw">&gt;</span>{{ .Date.Format &quot;2006/01/02&quot; }}<span class="kw">&lt;/h2&gt;</span></span>
<span id="cb16-9"><a href="templates.html#cb16-9" tabindex="-1"></a>{{ end }}</span>
<span id="cb16-10"><a href="templates.html#cb16-10" tabindex="-1"></a><span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-11"><a href="templates.html#cb16-11" tabindex="-1"></a></span>
<span id="cb16-12"><a href="templates.html#cb16-12" tabindex="-1"></a><span class="kw">&lt;main&gt;</span></span>
<span id="cb16-13"><a href="templates.html#cb16-13" tabindex="-1"></a>{{ .Content }}</span>
<span id="cb16-14"><a href="templates.html#cb16-14" tabindex="-1"></a><span class="kw">&lt;/main&gt;</span></span>
<span id="cb16-15"><a href="templates.html#cb16-15" tabindex="-1"></a></span>
<span id="cb16-16"><a href="templates.html#cb16-16" tabindex="-1"></a>{{ partial &quot;footer.html&quot; . }}</span></code></pre></div>
<p>您会看到很多对双花括号 <code>{{}}</code>，这就是您使用 Hugo 的变量和函数对模板进行编程的方式。</p>
<p>该模板以部分模板 <code>header.html</code> 开头，您很快就会看到其源代码。现在，您可以将其想象为页面 body 之前的所有 HTML 标记（例如 <code>&lt;html&gt;&lt;head&gt;</code>）。部分模板主要是为了重用 HTML 代码。例如，所有 HTML 页面可能共享非常相似的 <code>&lt;head&gt;&lt;/head&gt;</code> 标记，您可以将公共部分分解为部分模板。</p>
<p>页面的 metadata 包含在带有 <code>article-meta</code> 类的 <code>&lt;div&gt;</code> 元素中。我们建议您在设计模板时为 HTML 元素分配 classes，以便更轻松地使用 class names 将 CSS 样式应用到这些元素。在模板中，您可以访问 Hugo 提供的许多变量，例如 <code>.Title</code> 变量存储页面标题的值，我们将标题写在第一级标题 <code>&lt;h1&gt;</code> 中的 <code>&lt;span&gt;</code> 中。同样，作者和日期也写在 <code>&lt;h2&gt;</code> 中，但前提是它们在 YAML metadata 中提供。语法 <code>{{ with FOO }}{{ . }}{{ end }}</code> 是 <code>{{if FOO }}{{ FOO }}{{ end }}</code> 的简写，即，使用 <code>{{ . }}</code> 可以省去两次键入表达式 <code>FOO</code> 的麻烦。方法 <code>.Format</code> 可以应用于日期对象，在本主题中，我们将日期格式化为 <code>YYYY/mm/dd</code> 形式（<code>2006/01/02</code> 是 Go 中指定格式的方式）。</p>
<p>然后我们显示页面的内容，该内容存储在变量 <code>.Content</code> 中。内容包含在语义 HTML 标记 <code>&lt;main&gt;</code> 中。</p>
<p>在我们添加另一个部分模板 <code>footer.html</code> （源代码很快就会显示）后，模板就完成了。</p>
<p>为了更容易理解模板的工作原理，我们在下面展示了一个最小的示例文章：</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb17-1"><a href="templates.html#cb17-1" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb17-2"><a href="templates.html#cb17-2" tabindex="-1"></a><span class="an">title:</span><span class="co"> Hello World</span></span>
<span id="cb17-3"><a href="templates.html#cb17-3" tabindex="-1"></a><span class="an">author:</span><span class="co"> Frida Gomam</span></span>
<span id="cb17-4"><a href="templates.html#cb17-4" tabindex="-1"></a><span class="an">date:</span><span class="co"> 2017-06-19</span></span>
<span id="cb17-5"><a href="templates.html#cb17-5" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb17-6"><a href="templates.html#cb17-6" tabindex="-1"></a></span>
<span id="cb17-7"><a href="templates.html#cb17-7" tabindex="-1"></a>A single paragraph.</span></code></pre></div>
<p>使用模板 <code>single.html</code>，它将转换为 HTML 页面，其源代码看起来或多或少像这样（省略了页眉和页脚）：</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb18-1"><a href="templates.html#cb18-1" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;article-meta&quot;</span><span class="kw">&gt;</span></span>
<span id="cb18-2"><a href="templates.html#cb18-2" tabindex="-1"></a>  <span class="kw">&lt;h1&gt;&lt;span</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;title&quot;</span><span class="kw">&gt;</span>Hello World<span class="kw">&lt;/span&gt;&lt;/h1&gt;</span></span>
<span id="cb18-3"><a href="templates.html#cb18-3" tabindex="-1"></a>  <span class="kw">&lt;h2</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;author&quot;</span><span class="kw">&gt;</span>Frida Gomam<span class="kw">&lt;/h2&gt;</span></span>
<span id="cb18-4"><a href="templates.html#cb18-4" tabindex="-1"></a>  <span class="kw">&lt;h2</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;date&quot;</span><span class="kw">&gt;</span>2017/06/19<span class="kw">&lt;/h2&gt;</span></span>
<span id="cb18-5"><a href="templates.html#cb18-5" tabindex="-1"></a><span class="kw">&lt;/div&gt;</span></span>
<span id="cb18-6"><a href="templates.html#cb18-6" tabindex="-1"></a></span>
<span id="cb18-7"><a href="templates.html#cb18-7" tabindex="-1"></a><span class="kw">&lt;main&gt;</span></span>
<span id="cb18-8"><a href="templates.html#cb18-8" tabindex="-1"></a>  <span class="kw">&lt;p&gt;</span>A single paragraph.<span class="kw">&lt;/p&gt;</span></span>
<span id="cb18-9"><a href="templates.html#cb18-9" tabindex="-1"></a><span class="kw">&lt;/main&gt;</span></span></code></pre></div>
<p>有关单个页面的完整示例，您可以查看 <a href="https://xmin.yihui.org/about/" class="uri">https://xmin.yihui.org/about/</a>。</p></li>
<li><p><code>list.html</code> 是用于呈现页面列表的模板，例如博客文章列表或类别或标签内的页面列表。这是它的源代码：</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb19-1"><a href="templates.html#cb19-1" tabindex="-1"></a>{{ partial &quot;header.html&quot; . }}</span>
<span id="cb19-2"><a href="templates.html#cb19-2" tabindex="-1"></a></span>
<span id="cb19-3"><a href="templates.html#cb19-3" tabindex="-1"></a>{{if not .IsHome }}</span>
<span id="cb19-4"><a href="templates.html#cb19-4" tabindex="-1"></a><span class="kw">&lt;h1&gt;</span>{{ .Title }}<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb19-5"><a href="templates.html#cb19-5" tabindex="-1"></a>{{ end }}</span>
<span id="cb19-6"><a href="templates.html#cb19-6" tabindex="-1"></a></span>
<span id="cb19-7"><a href="templates.html#cb19-7" tabindex="-1"></a>{{ .Content }}</span>
<span id="cb19-8"><a href="templates.html#cb19-8" tabindex="-1"></a></span>
<span id="cb19-9"><a href="templates.html#cb19-9" tabindex="-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb19-10"><a href="templates.html#cb19-10" tabindex="-1"></a>  {{ range (where .Data.Pages &quot;Section&quot; &quot;!=&quot; &quot;&quot;) }}</span>
<span id="cb19-11"><a href="templates.html#cb19-11" tabindex="-1"></a>  <span class="kw">&lt;li&gt;</span></span>
<span id="cb19-12"><a href="templates.html#cb19-12" tabindex="-1"></a>    <span class="kw">&lt;span</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;date&quot;</span><span class="kw">&gt;</span>{{ .Date.Format &quot;2006/01/02&quot; }}<span class="kw">&lt;/span&gt;</span></span>
<span id="cb19-13"><a href="templates.html#cb19-13" tabindex="-1"></a>    <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;{{ .URL }}&quot;</span><span class="kw">&gt;</span>{{ .Title }}<span class="kw">&lt;/a&gt;</span></span>
<span id="cb19-14"><a href="templates.html#cb19-14" tabindex="-1"></a>  <span class="kw">&lt;/li&gt;</span></span>
<span id="cb19-15"><a href="templates.html#cb19-15" tabindex="-1"></a>  {{ end }}</span>
<span id="cb19-16"><a href="templates.html#cb19-16" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb19-17"><a href="templates.html#cb19-17" tabindex="-1"></a></span>
<span id="cb19-18"><a href="templates.html#cb19-18" tabindex="-1"></a>{{ partial &quot;footer.html&quot; . }}</span></code></pre></div>
<p>同样，它使用两个部分模板 <code>header.html</code> 和 <code>footer.html</code>。表达式 <code>{{if not .IsHome }}</code> 的意思是，如果该列表不是主页，则显示页面标题。这是因为我不想在主页上显示标题。这只是我个人的喜好。如果您愿意，您当然可以在主页的 <code>&lt;h1&gt;</code> 中显示标题。</p>
<p><code>{{ .Content }}</code> 显示列表的内容。请注意，通常 <code>.Content</code> 为空，这可能会令人惊讶。这是因为默认情况下不会从源 Markdown 文件生成列表页面。然而，有一个例外。当你在列表名对应的目录下编写一个特殊的 Markdown 文件 <code>_index.md</code> 时，列表的 <code>.Content</code> 将是这个 Markdown 文件的内容。例如，您可以在 <code>content/_index.md</code> 中定义您的主页内容，在 <code>content/post/_index.md</code> 中定义帖子列表页面的内容。</p>
<p>接下来，我们使用循环（<code>range</code>）生成列表，该列表通过按页面部分不应为空的条件过滤的所有页面。Hugo 中的 “Section” 是指 <code>content/</code> 下的一级子目录名称。例如，<code>content/post/foo.md</code> 的部分是 <code>post</code>。因此，过滤器意味着我们将列出 <code>content/</code> 子目录下的所有页面。这将排除根 <code>content/</code> 目录下的页面，例如 <code>content/about.md</code>。</p>
<p>请注意，变量 <code>.Data</code> 是动态的，其值根据您要生成的特定列表而变化。例如，列表页面 <a href="https://xmin.yihui.org/post/" class="uri">https://xmin.yihui.org/post/</a> 仅包含 <code>content/post/</code> 下的页面，<a href="https://xmin.yihui.org/note/" class="uri">https://xmin.yihui.org/note/</a> 仅包含 <code>content/note/</code> 下的页面。这些列表页面是由 Hugo 自动生成的，您不需要显式循环浏览 <code>post</code> 和 <code>note</code> 部分。也就是说，单个模板 <code>list.html</code> 将根据您网站上的部分和分类术语（例如类别和标签）生成多个页面列表。</p>
<p>列表项由 <code>&lt;ul&gt;</code> 中的 HTML 标记 <code>&lt;li&gt;</code> 表示。每个项目由日期、链接和页面标题组成。您可以查看 <a href="https://xmin.yihui.org/post/" class="uri">https://xmin.yihui.org/post/</a> 以获取列表页面的完整示例。</p></li>
<li><p><code>terms.html</code> 是分类术语主页的模板。例如，您可以使用它来生成类别或标签的完整列表。源代码如下：</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb20-1"><a href="templates.html#cb20-1" tabindex="-1"></a>{{ partial &quot;header.html&quot; . }}</span>
<span id="cb20-2"><a href="templates.html#cb20-2" tabindex="-1"></a></span>
<span id="cb20-3"><a href="templates.html#cb20-3" tabindex="-1"></a><span class="kw">&lt;h1&gt;</span>{{ .Title }}<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb20-4"><a href="templates.html#cb20-4" tabindex="-1"></a></span>
<span id="cb20-5"><a href="templates.html#cb20-5" tabindex="-1"></a><span class="kw">&lt;ul</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;terms&quot;</span><span class="kw">&gt;</span></span>
<span id="cb20-6"><a href="templates.html#cb20-6" tabindex="-1"></a>  {{ range $key, $value := .Data.Terms }}</span>
<span id="cb20-7"><a href="templates.html#cb20-7" tabindex="-1"></a>  <span class="kw">&lt;li&gt;</span></span>
<span id="cb20-8"><a href="templates.html#cb20-8" tabindex="-1"></a>    <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&#39;{{ (print &quot;/&quot; $.Data.Plural &quot;/&quot; $key) | relURL }}&#39;</span><span class="kw">&gt;</span></span>
<span id="cb20-9"><a href="templates.html#cb20-9" tabindex="-1"></a>      {{ $key }}</span>
<span id="cb20-10"><a href="templates.html#cb20-10" tabindex="-1"></a>    <span class="kw">&lt;/a&gt;</span></span>
<span id="cb20-11"><a href="templates.html#cb20-11" tabindex="-1"></a>    ({{ len $value }})</span>
<span id="cb20-12"><a href="templates.html#cb20-12" tabindex="-1"></a>  <span class="kw">&lt;/li&gt;</span></span>
<span id="cb20-13"><a href="templates.html#cb20-13" tabindex="-1"></a>  {{ end }}</span>
<span id="cb20-14"><a href="templates.html#cb20-14" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb20-15"><a href="templates.html#cb20-15" tabindex="-1"></a></span>
<span id="cb20-16"><a href="templates.html#cb20-16" tabindex="-1"></a>{{ partial &quot;footer.html&quot; . }}</span></code></pre></div>
<p>与 <code>list.html</code> 类似，它也使用循环。变量 <code>.Data.Terms</code> 存储分类法下的所有术语，例如所有类别名称。您可以将其视为 R 中的命名列表（在 Go 中称为 <code>map</code>），其中名称是术语，值是页面列表。变量 <code>$key</code> 表示术语，<code>$value</code> 表示与该术语关联的页面列表。我们在每个 <code>&lt;li&gt;</code> 中渲染的是术语页面的链接以及使用该术语的帖子数（<code>len</code> 是一个返回对象长度的 Go 函数）。</p>
<p>Hugo 自动渲染所有分类页面，路径名称是分类的复数形式，例如 <a href="https://xmin.yihui.org/categories/" class="uri">https://xmin.yihui.org/categories/</a> 和 <a href="https://xmin.yihui.org/tags/。这就是" class="uri">https://xmin.yihui.org/tags/。这就是</a> <code>.Data.Plural</code> 的含义。前导 <code>$</code> 是必需的，因为我们位于循环内部，并且需要从外部范围访问变量。该术语的链接通过管道 <code>|</code> 传递给 Hugo 函数 <code>relURL</code> 使其相对，这是一个很好的做法，因为相对链接更可移植（独立于域名）。</p></li>
</ul></li>
<li><p><code>partials/</code> 目录是放置 HTML 片段的地方，以便其他模板通过 <code>partial</code> 函数重用。该目录下有四个部分模板：</p>
<ul>
<li><p><code>header.html</code> 主要定义 <code>&lt;head&gt;</code> 标签和 <code>&lt;nav&gt;</code> 标签中的导航菜单。</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb21-1"><a href="templates.html#cb21-1" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb21-2"><a href="templates.html#cb21-2" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;{{ .Site.LanguageCode }}&quot;</span><span class="kw">&gt;</span></span>
<span id="cb21-3"><a href="templates.html#cb21-3" tabindex="-1"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb21-4"><a href="templates.html#cb21-4" tabindex="-1"></a>    <span class="kw">&lt;meta</span> <span class="er">charset</span><span class="ot">=</span><span class="st">&quot;utf-8&quot;</span><span class="kw">&gt;</span></span>
<span id="cb21-5"><a href="templates.html#cb21-5" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>{{ .Title }} | {{ .Site.Title }}<span class="kw">&lt;/title&gt;</span></span>
<span id="cb21-6"><a href="templates.html#cb21-6" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">href</span><span class="ot">=</span><span class="st">&#39;{{ &quot;/css/style.css&quot; | relURL }}&#39;</span></span>
<span id="cb21-7"><a href="templates.html#cb21-7" tabindex="-1"></a><span class="ot">      rel=</span><span class="st">&quot;stylesheet&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb21-8"><a href="templates.html#cb21-8" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">href</span><span class="ot">=</span><span class="st">&#39;{{ &quot;/css/fonts.css&quot; | relURL }}&#39;</span></span>
<span id="cb21-9"><a href="templates.html#cb21-9" tabindex="-1"></a><span class="ot">      rel=</span><span class="st">&quot;stylesheet&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb21-10"><a href="templates.html#cb21-10" tabindex="-1"></a>    {{ partial &quot;head_custom.html&quot; . }}</span>
<span id="cb21-11"><a href="templates.html#cb21-11" tabindex="-1"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb21-12"><a href="templates.html#cb21-12" tabindex="-1"></a></span>
<span id="cb21-13"><a href="templates.html#cb21-13" tabindex="-1"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb21-14"><a href="templates.html#cb21-14" tabindex="-1"></a>    <span class="kw">&lt;nav&gt;</span></span>
<span id="cb21-15"><a href="templates.html#cb21-15" tabindex="-1"></a>    <span class="kw">&lt;ul</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;menu&quot;</span><span class="kw">&gt;</span></span>
<span id="cb21-16"><a href="templates.html#cb21-16" tabindex="-1"></a>      {{ range .Site.Menus.main }}</span>
<span id="cb21-17"><a href="templates.html#cb21-17" tabindex="-1"></a>      <span class="kw">&lt;li&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;{{ .URL | relURL }}&quot;</span><span class="kw">&gt;</span>{{ .Name }}<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb21-18"><a href="templates.html#cb21-18" tabindex="-1"></a>      {{ end }}</span>
<span id="cb21-19"><a href="templates.html#cb21-19" tabindex="-1"></a>    <span class="kw">&lt;/ul&gt;</span></span>
<span id="cb21-20"><a href="templates.html#cb21-20" tabindex="-1"></a>    <span class="kw">&lt;hr/&gt;</span></span>
<span id="cb21-21"><a href="templates.html#cb21-21" tabindex="-1"></a>    <span class="kw">&lt;/nav&gt;</span></span></code></pre></div>
<p>如果您熟悉 HTML，<code>&lt;head&gt;</code> 区域应该很容易理解。请注意，我们还包含了一个部分模板 <code>head_custom.html</code>，该模板在此主题中为空，但它将使用户更容易向 <code>&lt;head&gt;</code> 添加自定义代码，而无需重写整个模板。更多详细信息请参见 Section <a href="custom-layouts.html#custom-layouts">2.6</a>。</p>
<p>导航菜单本质上是一个列表，列表中的每个项目都是从变量 <code>.Site.Menus.main</code> 中读取的。这意味着用户可以在 <code>config.toml</code> 中定义菜单，例如，</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb22-1"><a href="templates.html#cb22-1" tabindex="-1"></a>[[menu<span class="op">.</span><span class="at">main</span>]]</span>
<span id="cb22-2"><a href="templates.html#cb22-2" tabindex="-1"></a>    name <span class="op">=</span> <span class="st">&quot;Home&quot;</span></span>
<span id="cb22-3"><a href="templates.html#cb22-3" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">&quot;/&quot;</span></span>
<span id="cb22-4"><a href="templates.html#cb22-4" tabindex="-1"></a>[[menu<span class="op">.</span><span class="at">main</span>]]</span>
<span id="cb22-5"><a href="templates.html#cb22-5" tabindex="-1"></a>    name <span class="op">=</span> <span class="st">&quot;About&quot;</span></span>
<span id="cb22-6"><a href="templates.html#cb22-6" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">&quot;/about/&quot;</span></span></code></pre></div>
<p>它会生成一个像这样的菜单：</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb23-1"><a href="templates.html#cb23-1" tabindex="-1"></a><span class="kw">&lt;ul</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;menu&quot;</span><span class="kw">&gt;</span></span>
<span id="cb23-2"><a href="templates.html#cb23-2" tabindex="-1"></a>  <span class="kw">&lt;li&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;/&quot;</span><span class="kw">&gt;</span>Home<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb23-3"><a href="templates.html#cb23-3" tabindex="-1"></a>  <span class="kw">&lt;li&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;/about/&quot;</span><span class="kw">&gt;</span>About<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb23-4"><a href="templates.html#cb23-4" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre></div>
<p>Hugo 拥有强大的菜单系统，而我们在这个主题中只使用了最简单的菜单类型。如果您对嵌套菜单等更多功能感兴趣，请参阅 <a href="http://gohugo.io/extras/menus/" class="uri">http://gohugo.io/extras/menus/</a> 上的完整文档。</p></li>
<li><p><code>footer.html</code> 定义页面的页脚区域并关闭 HTML 文档：</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb24-1"><a href="templates.html#cb24-1" tabindex="-1"></a>  <span class="kw">&lt;footer&gt;</span></span>
<span id="cb24-2"><a href="templates.html#cb24-2" tabindex="-1"></a>  {{ partial &quot;foot_custom.html&quot; . }}</span>
<span id="cb24-3"><a href="templates.html#cb24-3" tabindex="-1"></a>  {{ with .Site.Params.footer }}</span>
<span id="cb24-4"><a href="templates.html#cb24-4" tabindex="-1"></a>  <span class="kw">&lt;hr/&gt;</span></span>
<span id="cb24-5"><a href="templates.html#cb24-5" tabindex="-1"></a>  {{ . | markdownify }}</span>
<span id="cb24-6"><a href="templates.html#cb24-6" tabindex="-1"></a>  {{ end }}</span>
<span id="cb24-7"><a href="templates.html#cb24-7" tabindex="-1"></a>  <span class="kw">&lt;/footer&gt;</span></span>
<span id="cb24-8"><a href="templates.html#cb24-8" tabindex="-1"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb24-9"><a href="templates.html#cb24-9" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>部分模板 <code>foot_custom.html</code> 的用途与 <code>head_custom.html</code> 相同；也就是说，允许用户向 <code>&lt;footer&gt;</code> 添加自定义代码，而无需重写整个模板。</p>
<p>最后，我们使用变量 <code>.Site.Params.footer</code> 生成页脚。请注意，我们再次使用了 <code>with</code> 函数。回想一下语法 <code>{{ with .Site.Params.footer }}{{ . }}{{ end }}</code> 是 <code>{{if .Site.Params.footer }}{{ .Site.Params.footer }}{{ end }}</code> 的简写。此语法使您无需使用 <code>{{ . }}</code> 两次键入表达式 <code>.Site.Params.footer</code> 作为变量 <code>footer</code> 的占位符，它在我们的 <code>config.toml</code> 文件中定义为站点参数。附加函数 <code>markdownify</code> 可以将 Markdown 转换为 HTML（即 <code>{{ . | markdownify }}</code>）。总而言之，这个序列意味着我们可以在 <code>config.toml</code> 中的 <code>params</code> 下使用 Markdown 定义 <code>footer</code> 选项，例如，</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb25-1"><a href="templates.html#cb25-1" tabindex="-1"></a>[params]</span>
<span id="cb25-2"><a href="templates.html#cb25-2" tabindex="-1"></a>    footer <span class="op">=</span> <span class="st">&quot;&amp;copy; [Yihui Xie](https://yihui.org) 2017&quot;</span></span></code></pre></div></li>
</ul></li>
</ul>
<p>有一个特殊的模板 <code>404.html</code>，Hugo 使用它来创建 404 页面（当找不到页面时，显示此页面）：</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb26-1"><a href="templates.html#cb26-1" tabindex="-1"></a>{{ partial &quot;header.html&quot; . }}</span>
<span id="cb26-2"><a href="templates.html#cb26-2" tabindex="-1"></a></span>
<span id="cb26-3"><a href="templates.html#cb26-3" tabindex="-1"></a>404 NOT FOUND</span>
<span id="cb26-4"><a href="templates.html#cb26-4" tabindex="-1"></a></span>
<span id="cb26-5"><a href="templates.html#cb26-5" tabindex="-1"></a>{{ partial &quot;footer.html&quot; . }}</span></code></pre></div>
<p>使用上述所有模板，我们将能够从 Markdown 源文件生成一个网站。但是，您不太可能对该网站感到满意，因为 HTML 元素根本没有样式，并且默认外观可能对大多数人来说并不有吸引力。您可能已经注意到，在 <code>header.html</code> 中，我们包含了两个 CSS 文件：<code>/css/style.css</code> 和 <code>/css/fonts.css</code>。</p>
<p>您可以在线找到许多可应用于 Hugo 主题的现有开源 CSS 框架。例如，最流行的 CSS 框架可能是 Bootstrap：<a href="http://getbootstrap.com。当我设计" class="uri">http://getbootstrap.com。当我设计</a> XMin 时，我想知道在不使用这些现有框架的情况下我能走多远，因为它们通常非常大。例如，<code>bootstrap.css</code> 在未最小化时有近 10000 行代码。事实证明，我用了大约 50 行 CSS 就能够得到满意的外观，下面我将详细解释：</p>
<ul>
<li><p><code>style.css</code> 定义除字体之外的所有样式：</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb27-1"><a href="templates.html#cb27-1" tabindex="-1"></a>body {</span>
<span id="cb27-2"><a href="templates.html#cb27-2" tabindex="-1"></a>  <span class="kw">max-width</span>: <span class="dv">800</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb27-3"><a href="templates.html#cb27-3" tabindex="-1"></a>  <span class="kw">margin</span>: <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb27-4"><a href="templates.html#cb27-4" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">1</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb27-5"><a href="templates.html#cb27-5" tabindex="-1"></a>  <span class="kw">line-height</span>: <span class="dv">1.5</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb27-6"><a href="templates.html#cb27-6" tabindex="-1"></a>}</span></code></pre></div>
<p>页面主体的最大宽度设置为 800 像素，因为过宽的页面难以阅读（<code>800</code> 是我选择的任意阈值）。正文使用 CSS 技巧 <code>margin: auto</code> 居中，这意味着顶部、右侧、底部和左侧边距是自动的。当块元素的左右边距为 <code>auto</code> 时，它将居中。</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb28-1"><a href="templates.html#cb28-1" tabindex="-1"></a><span class="co">/* header and footer areas */</span></span>
<span id="cb28-2"><a href="templates.html#cb28-2" tabindex="-1"></a><span class="fu">.menu</span> li { <span class="kw">display</span>: <span class="dv">inline-block</span><span class="op">;</span> }</span>
<span id="cb28-3"><a href="templates.html#cb28-3" tabindex="-1"></a><span class="fu">.article-meta</span><span class="op">,</span> <span class="fu">.menu</span> a {</span>
<span id="cb28-4"><a href="templates.html#cb28-4" tabindex="-1"></a>  <span class="kw">text-decoration</span>: <span class="dv">none</span><span class="op">;</span></span>
<span id="cb28-5"><a href="templates.html#cb28-5" tabindex="-1"></a>  <span class="kw">background</span>: <span class="cn">#eee</span><span class="op">;</span></span>
<span id="cb28-6"><a href="templates.html#cb28-6" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-7"><a href="templates.html#cb28-7" tabindex="-1"></a>  <span class="kw">border-radius</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-8"><a href="templates.html#cb28-8" tabindex="-1"></a>}</span>
<span id="cb28-9"><a href="templates.html#cb28-9" tabindex="-1"></a><span class="fu">.menu</span><span class="op">,</span> <span class="fu">.article-meta</span><span class="op">,</span> footer { <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb28-10"><a href="templates.html#cb28-10" tabindex="-1"></a><span class="fu">.title</span> { <span class="kw">font-size</span>: <span class="dv">1.1</span><span class="dt">em</span><span class="op">;</span> }</span>
<span id="cb28-11"><a href="templates.html#cb28-11" tabindex="-1"></a>footer a { <span class="kw">text-decoration</span>: <span class="dv">none</span><span class="op">;</span> }</span>
<span id="cb28-12"><a href="templates.html#cb28-12" tabindex="-1"></a>hr {</span>
<span id="cb28-13"><a href="templates.html#cb28-13" tabindex="-1"></a>  <span class="kw">border-style</span>: <span class="dv">dashed</span><span class="op">;</span></span>
<span id="cb28-14"><a href="templates.html#cb28-14" tabindex="-1"></a>  <span class="kw">color</span>: <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb28-15"><a href="templates.html#cb28-15" tabindex="-1"></a>}</span></code></pre></div>
<p>请记住，我们的菜单元素是 <code>header.html</code> 中定义的列表 <code>&lt;ul class="menu"&gt;</code>。我将菜单中 <code>&lt;li&gt;</code> 的默认显示样式更改为 <code>inline-block</code>，以便它们将作为内联元素从左到右布局，而不是作为项目符号列表垂直堆叠（默认行为）。</p>
<p>对于菜单中的链接 (<code>&lt;a&gt;</code>) 和文章的 metadata 区域，将删除默认文本修饰（下划线），并应用浅色背景颜色。border radius 设置为 5 pixels，以便您可以看到每个链接后面有一个微妙的圆角矩形。</p>
<p>水平线 (<code>&lt;hr&gt;</code>) 设置为浅灰色虚线，以使其在页面上不那么突出。这些规则用于将文章正文与页眉和页脚区域分开。</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb29-1"><a href="templates.html#cb29-1" tabindex="-1"></a><span class="co">/* code */</span></span>
<span id="cb29-2"><a href="templates.html#cb29-2" tabindex="-1"></a>pre {</span>
<span id="cb29-3"><a href="templates.html#cb29-3" tabindex="-1"></a>  <span class="kw">border</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb29-4"><a href="templates.html#cb29-4" tabindex="-1"></a>  <span class="kw">box-shadow</span>: <span class="dv">5</span><span class="dt">px</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#eee</span><span class="op">;</span></span>
<span id="cb29-5"><a href="templates.html#cb29-5" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">1</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb29-6"><a href="templates.html#cb29-6" tabindex="-1"></a>  <span class="kw">overflow-x</span>: <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb29-7"><a href="templates.html#cb29-7" tabindex="-1"></a>}</span>
<span id="cb29-8"><a href="templates.html#cb29-8" tabindex="-1"></a>code { <span class="kw">background</span>: <span class="cn">#f9f9f9</span><span class="op">;</span> }</span>
<span id="cb29-9"><a href="templates.html#cb29-9" tabindex="-1"></a>pre code { <span class="kw">background</span>: <span class="dv">none</span><span class="op">;</span> }</span></code></pre></div>
<p>对于代码块 (<code>&lt;pre&gt;</code>)，我应用带有阴影效果的浅灰色边框。每个内联代码元素都有一个非常浅的灰色背景。这些装饰仅仅是出于我自己对代码的特殊兴趣和重视。</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb30-1"><a href="templates.html#cb30-1" tabindex="-1"></a><span class="co">/* misc elements */</span></span>
<span id="cb30-2"><a href="templates.html#cb30-2" tabindex="-1"></a>img<span class="op">,</span> iframe<span class="op">,</span> video { <span class="kw">max-width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span> }</span>
<span id="cb30-3"><a href="templates.html#cb30-3" tabindex="-1"></a>main { <span class="kw">hyphens</span>: <span class="bu">auto</span><span class="op">;</span> }</span>
<span id="cb30-4"><a href="templates.html#cb30-4" tabindex="-1"></a>blockquote {</span>
<span id="cb30-5"><a href="templates.html#cb30-5" tabindex="-1"></a>  <span class="kw">background</span>: <span class="cn">#f9f9f9</span><span class="op">;</span></span>
<span id="cb30-6"><a href="templates.html#cb30-6" tabindex="-1"></a>  <span class="kw">border-left</span>: <span class="dv">5</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ccc</span><span class="op">;</span></span>
<span id="cb30-7"><a href="templates.html#cb30-7" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">3</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">em</span> <span class="dv">3</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb30-8"><a href="templates.html#cb30-8" tabindex="-1"></a>}</span>
<span id="cb30-9"><a href="templates.html#cb30-9" tabindex="-1"></a></span>
<span id="cb30-10"><a href="templates.html#cb30-10" tabindex="-1"></a>table {</span>
<span id="cb30-11"><a href="templates.html#cb30-11" tabindex="-1"></a>  <span class="kw">margin</span>: <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb30-12"><a href="templates.html#cb30-12" tabindex="-1"></a>  <span class="kw">border-top</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#666</span><span class="op">;</span></span>
<span id="cb30-13"><a href="templates.html#cb30-13" tabindex="-1"></a>  <span class="kw">border-bottom</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#666</span><span class="op">;</span></span>
<span id="cb30-14"><a href="templates.html#cb30-14" tabindex="-1"></a>}</span>
<span id="cb30-15"><a href="templates.html#cb30-15" tabindex="-1"></a>table thead th { <span class="kw">border-bottom</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ddd</span><span class="op">;</span> }</span>
<span id="cb30-16"><a href="templates.html#cb30-16" tabindex="-1"></a>th<span class="op">,</span> td { <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span> }</span>
<span id="cb30-17"><a href="templates.html#cb30-17" tabindex="-1"></a>tr<span class="in">:nth-child(even)</span> { <span class="kw">background</span>: <span class="cn">#eee</span> }</span></code></pre></div>
<p>超出页边距的嵌入元素（例如图像和视频）通常很难看，因此我将它们的最大宽度限制为 100%。<code>&lt;main&gt;</code> 中的单词连字符已打开。块引用有一个灰色的左侧边栏和浅灰色的背景。表格默认居中，只有三个水平线：表格的顶部和底部边框以及表格标题的底部边框。表格行呈条纹状，以便于阅读表格，尤其是当表格很宽时。</p></li>
<li><p><code>fonts.css</code> 是一个单独的样式表，因为它在网站的外观中起着至关重要的作用，并且您很可能想要自定义此文件。在大多数情况下，您的读者会花费最多的时间阅读页面上的文本，因此使文本易于阅读非常重要。我不是网页设计方面的专家，我只是选择 Palatino 作为正文，并选择 Lucida Console 或 Monaco（以您的系统中可用的为准）作为代码。现在使用谷歌网络字体很常见。您可以尝试一些网络字体，看看是否喜欢其中的任何一个。</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb31-1"><a href="templates.html#cb31-1" tabindex="-1"></a>body {</span>
<span id="cb31-2"><a href="templates.html#cb31-2" tabindex="-1"></a>  <span class="kw">font-family</span>: <span class="st">&quot;Palatino Linotype&quot;</span><span class="op">,</span> <span class="st">&quot;Book Antiqua&quot;</span><span class="op">,</span> Palatino<span class="op">,</span> <span class="dv">serif</span><span class="op">;</span></span>
<span id="cb31-3"><a href="templates.html#cb31-3" tabindex="-1"></a>}</span>
<span id="cb31-4"><a href="templates.html#cb31-4" tabindex="-1"></a>code {</span>
<span id="cb31-5"><a href="templates.html#cb31-5" tabindex="-1"></a>  <span class="kw">font-family</span>: <span class="st">&quot;Lucida Console&quot;</span><span class="op">,</span> Monaco<span class="op">,</span> <span class="dv">monospace</span><span class="op">;</span></span>
<span id="cb31-6"><a href="templates.html#cb31-6" tabindex="-1"></a>  <span class="kw">font-size</span>: <span class="dv">85</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb31-7"><a href="templates.html#cb31-7" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
<p>这两个 CSS 文件放在主题的 <code>static/css/</code> 目录下。在 HTML 模板 <code>header.html</code> 中，路径 <code>/css/style.css</code> 引用文件 <code>static/css/style.css</code>。</p>
<p>最后，该主题在 <code>exampleSite/</code> 下提供了一个示例站点。目录结构可能有点混乱，因为这是一个主题而不是网站。实际上，<code>exampleSite/</code> 下的所有内容都应该在网站的根目录下，并且顶级的 <code>hugo-xmin/</code> 目录应该在该网站的 <code>themes/</code> 目录下，即：</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="templates.html#cb32-1" tabindex="-1"></a><span class="ex">├──</span> config.toml</span>
<span id="cb32-2"><a href="templates.html#cb32-2" tabindex="-1"></a><span class="ex">├──</span> content/</span>
<span id="cb32-3"><a href="templates.html#cb32-3" tabindex="-1"></a><span class="ex">├──</span> ...</span>
<span id="cb32-4"><a href="templates.html#cb32-4" tabindex="-1"></a><span class="ex">├──</span> themes/</span>
<span id="cb32-5"><a href="templates.html#cb32-5" tabindex="-1"></a><span class="ex">│</span>   └── hugo-xmin/</span>
<span id="cb32-6"><a href="templates.html#cb32-6" tabindex="-1"></a><span class="ex">│</span></span>
<span id="cb32-7"><a href="templates.html#cb32-7" tabindex="-1"></a><span class="ex">└──</span> ...</span></code></pre></div>
<p>示例站点提供了示例 <code>config.toml</code>、主页 <code>_index.md</code>、关于页面 <code>about.md</code>、<code>note/</code> 下的两篇文章和 <code>post/</code> 下的两篇文章。它还覆盖主题中的 <code>foot_custom.html</code>。</p>
</div>
<div id="how-to" class="section level3 hasAnchor" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> Implementing more features<a href="templates.html#how-to" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>XMin 实际上是一个功能强大的主题，但我们知道它对您来说可能太小了。该主题（故意）缺少一些常用功能，如果需要，我们将教您如何自行添加它们。所有这些功能和源代码也可以应用于其他主题。</p>
<ul>
<li><p><strong>Enable Google Analytics.</strong> Hugo 提供了内置的部分模板。对于 XMin，您可以添加</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb33-1"><a href="templates.html#cb33-1" tabindex="-1"></a>{{ template &quot;_internal/google_analytics.html&quot; . }}</span></code></pre></div>
<p>到网站根目录下的 <code>layouts/partials/foot_custom.html</code>（而不是 <code>themes/hugo-xmin/</code>），并在 <code>config.toml</code> 中配置 <code>googleAnalytics</code>。有关详细信息，请参阅 <a href="https://github.com/yihui/hugo-xmin/pull/3，以及从模板呈现的" class="uri">https://github.com/yihui/hugo-xmin/pull/3，以及从模板呈现的</a> JavaScript 的此页面的 HTML 源代码：<a href="https://deploy-preview-3--hugo-xmin.netlify.com" class="uri">https://deploy-preview-3--hugo-xmin.netlify.com</a>。</p></li>
<li><p><strong>Enable Disqus comments.</strong> 与 Google Analytics 类似，您可以添加内置模板</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb34-1"><a href="templates.html#cb34-1" tabindex="-1"></a>{{ template &quot;_internal/disqus.html&quot; . }}</span></code></pre></div>
<p>到 <code>foot_custom.html</code>，并在 <code>config.toml</code> 中配置 Disqus 短名称。有关详细信息，请参阅 <a href="https://github.com/yihui/hugo-xmin/pull/4，并在" class="uri">https://github.com/yihui/hugo-xmin/pull/4，并在</a> <a href="https://deploy-preview-4--hugo-xmin.netlify.com" class="uri">https://deploy-preview-4--hugo-xmin.netlify.com</a> 上查看预览。</p></li>
<li><p><strong>Enable syntax highlighting via highlight.js.</strong> 将这添加到 <code>head_custom.html</code></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb35-1"><a href="templates.html#cb35-1" tabindex="-1"></a><span class="kw">&lt;link</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;//YOUR-CDN-LINK/styles/github.min.css&quot;</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;stylesheet&quot;</span><span class="kw">&gt;</span></span></code></pre></div>
<p>并将这添加到 <code>foot_custom.html</code>：</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb36-1"><a href="templates.html#cb36-1" tabindex="-1"></a><span class="kw">&lt;script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;//YOUR-CDN-LINK/highlight.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb36-2"><a href="templates.html#cb36-2" tabindex="-1"></a><span class="kw">&lt;script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;//YOUR-CDN-LINK/languages/r.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb36-3"><a href="templates.html#cb36-3" tabindex="-1"></a></span>
<span id="cb36-4"><a href="templates.html#cb36-4" tabindex="-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb36-5"><a href="templates.html#cb36-5" tabindex="-1"></a>hljs<span class="op">.</span><span class="fu">configure</span>({<span class="dt">languages</span><span class="op">:</span> []})<span class="op">;</span></span>
<span id="cb36-6"><a href="templates.html#cb36-6" tabindex="-1"></a>hljs<span class="op">.</span><span class="fu">initHighlightingOnLoad</span>()<span class="op">;</span></span>
<span id="cb36-7"><a href="templates.html#cb36-7" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p>请记住将 <code>YOUR-CDN-LINK</code> 替换为您首选的 highlight.js CDN 主机的链接，例如 <code>cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0</code>。有关 highlight.js 的更多信息，请参阅其主页：<a href="https://highlightjs.org。如果您需要使用其他" class="uri">https://highlightjs.org。如果您需要使用其他</a> CDN 主机，cdnjs.com 是一个不错的选择：<a href="https://cdnjs.com/libraries/highlight.js" class="uri">https://cdnjs.com/libraries/highlight.js</a> 您还可以查看那里支持哪些语言和 CSS 主题。</p>
<p>您可能会看到 <a href="https://github.com/yihui/hugo-xmin/pull/5" class="uri">https://github.com/yihui/hugo-xmin/pull/5</a> 的实际实现，以及 <a href="https://deploy-preview-5--hugo-xmin.netlify.com/post/2016/02/14/a-plain-markdown-post/" class="uri">https://deploy-preview-5--hugo-xmin.netlify.com/post/2016/02/14/a-plain-markdown-post/</a> 上带有语法突出显示的示例页面。</p></li>
<li><p><strong>Support math expressions through MathJax.</strong> 将以下代码添加到 <code>foot_custom.html</code>。</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb37-1"><a href="templates.html#cb37-1" tabindex="-1"></a><span class="kw">&lt;script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;//yihui.org/js/math-code.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb37-2"><a href="templates.html#cb37-2" tabindex="-1"></a><span class="kw">&lt;script</span> <span class="er">async</span></span>
<span id="cb37-3"><a href="templates.html#cb37-3" tabindex="-1"></a><span class="ot">src=</span><span class="st">&quot;//YOUR-CDN-LINK/MathJax.js?config=TeX-MML-AM_CHTML&quot;</span><span class="kw">&gt;</span></span>
<span id="cb37-4"><a href="templates.html#cb37-4" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p>这需要具备丰富的 JavaScript 知识并熟悉 MathJax 才能完全理解上面的代码，我们将把代码的解释留给 Section <a href="javascript.html#javascript">B.3</a>。</p>
<p>请记住将 <code>YOUR-CDN-LINK</code> 替换为您首选的 MathJax CDN 主机的链接，例如 <code>cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5</code>。</p></li>
<li><p><strong>Show the table of contents (TOC).</strong> 要显示 R Markdown 帖子的目录，您只需将输出格式 <code>blogdown::html_page</code> 和选项 <code>toc: true</code> 添加到 YAML：</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb38-1"><a href="templates.html#cb38-1" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb38-2"><a href="templates.html#cb38-2" tabindex="-1"></a><span class="at">  blogdown:</span><span class="fu">:html_page</span><span class="kw">:</span></span>
<span id="cb38-3"><a href="templates.html#cb38-3" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
<p>对于普通的 Markdown 帖子，您必须修改模板 <code>single.html</code>。帖子的目录存储在 Hugo 模板变量 <code>.TableOfContents</code> 中。您可能需要一个选项来控制是否显示目录，例如，您可以将选项 <code>toc: true</code> 添加到 Markdown 帖子的 YAML metadata 中以显示目录。可以在 <code>single.html</code> 中的帖子内容之前添加以下代码：</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb39-1"><a href="templates.html#cb39-1" tabindex="-1"></a>{{ if .Params.toc }}</span>
<span id="cb39-2"><a href="templates.html#cb39-2" tabindex="-1"></a>{{ .TableOfContents }}</span>
<span id="cb39-3"><a href="templates.html#cb39-3" tabindex="-1"></a>{{ end }}</span></code></pre></div>
<p>请参阅 <a href="https://github.com/yihui/hugo-xmin/pull/7" class="uri">https://github.com/yihui/hugo-xmin/pull/7</a> 了解示例实现。</p></li>
<li><p><strong>Display categories and tags in a post if provided in its YAML.</strong> 在 <code>single.html</code> 中要放置类别和标签的位置添加下面的代码，例如，在 <code>&lt;div class="article-meta"&gt;&lt;/div&gt;</code> 中。</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb40-1"><a href="templates.html#cb40-1" tabindex="-1"></a><span class="kw">&lt;p</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;terms&quot;</span><span class="kw">&gt;</span></span>
<span id="cb40-2"><a href="templates.html#cb40-2" tabindex="-1"></a>  {{ range $i := (slice &quot;categories&quot; &quot;tags&quot;) }}</span>
<span id="cb40-3"><a href="templates.html#cb40-3" tabindex="-1"></a>  {{ with ($.Param $i) }}</span>
<span id="cb40-4"><a href="templates.html#cb40-4" tabindex="-1"></a>  {{ $i | title }}:</span>
<span id="cb40-5"><a href="templates.html#cb40-5" tabindex="-1"></a>  {{ range $k := . }}</span>
<span id="cb40-6"><a href="templates.html#cb40-6" tabindex="-1"></a>  <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&#39;{{ relURL (print &quot;/&quot; $i &quot;/&quot; $k | urlize) }}&#39;</span><span class="kw">&gt;</span>{{$k}}<span class="kw">&lt;/a&gt;</span></span>
<span id="cb40-7"><a href="templates.html#cb40-7" tabindex="-1"></a>  {{ end }}</span>
<span id="cb40-8"><a href="templates.html#cb40-8" tabindex="-1"></a>  {{ end }}</span>
<span id="cb40-9"><a href="templates.html#cb40-9" tabindex="-1"></a>  {{ end }}</span>
<span id="cb40-10"><a href="templates.html#cb40-10" tabindex="-1"></a><span class="kw">&lt;/p&gt;</span></span></code></pre></div>
<p>基本上，代码循环遍历 YAML metadata 字段 <code>categories</code> 和 <code>tags</code>，对于每个字段，其值从 <code>.Param</code> 获取，然后我们使用内部循环以 <code>&lt;a href="/tags/foo/"&gt;foo&lt;/a&gt;</code> 形式的链接写出术语。</p>
<p>您可以在 <a href="https://github.com/yihui/hugo-xmin/pull/2" class="uri">https://github.com/yihui/hugo-xmin/pull/2</a> 上查看完整的实现和预览在 <a href="https://deploy-preview-2--hugo-xmin.netlify.com/post/2016" class="uri">https://deploy-preview-2--hugo-xmin.netlify.com/post/2016</a> /02/14/a-plain-markdown-post/。</p></li>
<li><p><strong>Add pagination.</strong> 当网站上有大量帖子时，您可能不希望在单个页面上显示完整列表，而是每页显示 N 个帖子（例如，N = 10）。使用 Hugo 的内置函数和模板可以轻松地向网站添加分页。您无需循环遍历列表模板中的所有帖子（例如 <code>range .Data.Pages</code>），而是使用函数 <code>.Paginate</code> 对完整的帖子列表进行分页（例如 <code>range (.Paginate .Data.Pages)</code>）。下面是一个模板片段，您可以将其插入到模板文件 <code>list.html</code> 中：</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb41-1"><a href="templates.html#cb41-1" tabindex="-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb41-2"><a href="templates.html#cb41-2" tabindex="-1"></a>  {{ $paginator := .Paginate .Data.Pages }}</span>
<span id="cb41-3"><a href="templates.html#cb41-3" tabindex="-1"></a>  {{ range $paginator.Pages }}</span>
<span id="cb41-4"><a href="templates.html#cb41-4" tabindex="-1"></a>  <span class="kw">&lt;li&gt;</span></span>
<span id="cb41-5"><a href="templates.html#cb41-5" tabindex="-1"></a>    <span class="kw">&lt;span</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;date&quot;</span><span class="kw">&gt;</span>{{ .Date.Format &quot;2006/01/02&quot; }}<span class="kw">&lt;/span&gt;</span></span>
<span id="cb41-6"><a href="templates.html#cb41-6" tabindex="-1"></a>    <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;{{ .URL }}&quot;</span><span class="kw">&gt;</span>{{ .Title }}<span class="kw">&lt;/a&gt;</span></span>
<span id="cb41-7"><a href="templates.html#cb41-7" tabindex="-1"></a>  <span class="kw">&lt;/li&gt;</span></span>
<span id="cb41-8"><a href="templates.html#cb41-8" tabindex="-1"></a>  {{ end }}</span>
<span id="cb41-9"><a href="templates.html#cb41-9" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb41-10"><a href="templates.html#cb41-10" tabindex="-1"></a>{{ template &quot;_internal/pagination.html&quot; . }}</span></code></pre></div>
<p>完整实现请参见 <a href="https://github.com/yihui/hugo-xmin/pull/16" class="uri">https://github.com/yihui/hugo-xmin/pull/16</a>。</p></li>
<li><p><strong>Add a GitHub Edit button or link to a page.</strong> 如果上述功能对您来说都不令人兴奋（这不会让我感到惊讶），那么这个小功能确实是一个很好的例子，它向您展示了纯文本文件和静态网站与 GitHub（或其他支持纯文本文件在线编辑的服务）结合使用时的强大功能。我相信在 WordPress 这样的动态网站框架中实现这个功能即使不是不可能，也是很困难的。</p>
<p>基本上，当您浏览 GitHub 上存储库中的任何文本文件时，如果您有 GitHub 帐户，则可以通过单击 Edit 按钮直接在页面上编辑它们（示例见 Figure <a href="templates.html#fig:github-edit">2.3</a>）。如果您对存储库有写权限，则可以直接在线提交更改，否则 GitHub 会自动为您 fork 存储库，以便您可以在自己的存储库中编辑文件，并且 GitHub 会引导您创建 pull request 原始存储库。当原所有者看到 pull request 时，他/她可以看到您所做的更改并决定是否接受它们或要求您进行进一步的更改。尽管术语 “pull request” 对初学者来说非常令人困惑，<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> 它可能是 GitHub 发明的最伟大的功能，因为它使人们更容易做出贡献。</p>
<p>真正方便的是，您只需要一个固定形式的 URL 即可编辑 GitHub 上的文件：<code>https://github.com/USER/REPO/edit/BRANCH/PATH/TO/FILE</code>。例如，<a href="https://github.com/rbind/yihui/edit/master/content/knitr/faq.md，其中" class="uri">https://github.com/rbind/yihui/edit/master/content/knitr/faq.md，其中</a> <code>USER</code> 为 <code>rbind</code>，<code>REPO</code> 为 <code>yihui</code>，<code>BRANCH</code> 为 <code>master</code>，文件路径为 <code>content/knitr/faq.md</code>。</p>
<p>实现此功能的关键是变量 <code>.File.Path</code>，它为我们提供了 <code>content/</code> 下页面的源文件路径，例如 <code>post/foo.md</code>。如果您的网站仅使用纯 Markdown 文件，那么实现将非常简单。我在下面的 <code>...</code> 中省略了完整的 GitHub URL，其中一个示例可以是 <code>https://github.com/rbind/yihui/edit/master/content/</code>。</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb42-1"><a href="templates.html#cb42-1" tabindex="-1"></a>{{ with .File.Path }}</span>
<span id="cb42-2"><a href="templates.html#cb42-2" tabindex="-1"></a><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://github.com/.../{{ . }}&quot;</span><span class="kw">&gt;</span>Edit this page<span class="kw">&lt;/a&gt;</span></span>
<span id="cb42-3"><a href="templates.html#cb42-3" tabindex="-1"></a>{{ end }}</span></code></pre></div>
<p>然而，当涉及 R Markdown 帖子时，对于 <strong>blogdown</strong> 用户来说，情况会稍微复杂一些。您不能只使用 <code>.File.Path</code>，因为它实际上指向 <code>.Rmd</code> 文件的 <code>.html</code> 输出文件，而 <code>.Rmd</code> 文件是实际的源文件。编辑按钮或链接不应指向 <code>.html</code> 文件。以下是完整的实现，您可以根据您想要显示编辑链接的位置（例如 <code>footer.html</code>）将其添加到模板文件中：</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb43-1"><a href="templates.html#cb43-1" tabindex="-1"></a>{{ if .File.Path }}</span>
<span id="cb43-2"><a href="templates.html#cb43-2" tabindex="-1"></a></span>
<span id="cb43-3"><a href="templates.html#cb43-3" tabindex="-1"></a>{{ $Rmd := (print .File.BaseFileName &quot;.Rmd&quot;) }}</span>
<span id="cb43-4"><a href="templates.html#cb43-4" tabindex="-1"></a></span>
<span id="cb43-5"><a href="templates.html#cb43-5" tabindex="-1"></a>{{ if (where (readDir (print &quot;content/&quot; .File.Dir)) &quot;Name&quot; $Rmd) }}</span>
<span id="cb43-6"><a href="templates.html#cb43-6" tabindex="-1"></a>  {{ $.Scratch.Set &quot;FilePath&quot; (print .File.Dir $Rmd) }}</span>
<span id="cb43-7"><a href="templates.html#cb43-7" tabindex="-1"></a>{{ else }}</span>
<span id="cb43-8"><a href="templates.html#cb43-8" tabindex="-1"></a>  {{ $.Scratch.Set &quot;FilePath&quot; .File.Path }}</span>
<span id="cb43-9"><a href="templates.html#cb43-9" tabindex="-1"></a>{{ end }}</span>
<span id="cb43-10"><a href="templates.html#cb43-10" tabindex="-1"></a></span>
<span id="cb43-11"><a href="templates.html#cb43-11" tabindex="-1"></a>{{ with .Site.Params.GithubEdit}}</span>
<span id="cb43-12"><a href="templates.html#cb43-12" tabindex="-1"></a><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&#39;{{ . }}{{ $.Scratch.Get &quot;FilePath&quot; }}&#39;</span><span class="kw">&gt;</span>Edit this page<span class="kw">&lt;/a&gt;</span></span>
<span id="cb43-13"><a href="templates.html#cb43-13" tabindex="-1"></a>{{ end }}</span>
<span id="cb43-14"><a href="templates.html#cb43-14" tabindex="-1"></a></span>
<span id="cb43-15"><a href="templates.html#cb43-15" tabindex="-1"></a>{{ end }}</span></code></pre></div>
<p>基本逻辑是，对于一个文件，如果存在扩展名为 <code>.Rmd</code> 的相同文件名，我们会将编辑链接指向该 Rmd 文件。首先，我们定义变量 <code>$Rmd</code> 作为扩展名为 <code>.Rmd</code> 的文件名。然后我们检查它是否存在。不幸的是，Hugo 中没有像 R 中的 <code>file.exists()</code> 这样的函数，所以我们必须使用一个 hack：列出目录下的所有文件，并查看 Rmd 文件是否在列表中。<a href="http://gohugo.io/extras/scratch/"><code>$.Scratch</code></a> 是 Hugo 模板中动态存储和获取变量的方式。Hugo 中的大多数变量都是只读的，当你想修改变量时你必须使用 <code>$.Scratch</code>。我们在 <code>$.Scratch</code> 中设置一个变量 <code>FilePath</code>，当 Rmd 文件存在时，其值为 Rmd 文件的完整路径，否则为 Markdown 源文件的路径。最后，我们将 <code>config.toml</code> 中的自定义选项 <code>GithubEdit</code> 与文件路径连接起来，完成编辑链接 <code>&lt;a&gt;</code>。以下是 <code>config.toml</code> 中的选项示例：</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb44-1"><a href="templates.html#cb44-1" tabindex="-1"></a>[params]</span>
<span id="cb44-2"><a href="templates.html#cb44-2" tabindex="-1"></a>  GithubEdit <span class="op">=</span> <span class="st">&quot;https://github.com/rbind/yihui/edit/master/content/&quot;</span></span></code></pre></div>
<p>请注意，如果您在 Windows 上使用 Hugo 来构建和部署站点，您可能需要将文件路径分隔符从反斜杠更改为正斜杠，例如，您可能需要 <code>{{ $.Scratch.Set "FilePath" (replace ($.Scratch.Get "FilePath") "\\" "/") }}</code> 在模板中。为了避免这种复杂情况，我们不建议您通过 Windows 部署站点（有关部署方法，请参阅 Chapter <a href="deployment.html#deployment">3</a>）。</p>
<p>您可以查看 <a href="https://github.com/yihui/hugo-xmin/pull/6" class="uri">https://github.com/yihui/hugo-xmin/pull/6</a> 以了解 R Markdown 示例的实际实现，并查看本页页脚的编辑链接：<a href="https://deploy-preview-6" class="uri">https://deploy-preview-6</a> –hugo-xmin.netlify.com。实际上，您可以在每个页面的页脚中看到一个链接，页面列表除外（因为它们没有源文件）。</p></li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-edit"></span>
<img src="images/github-edit.png" alt="Edit a text file online on GitHub." width="100%" />
<p class="caption">
FIGURE 2.3: Edit a text file online on GitHub.
</p>
</div>
<p>当你消化了 XMin 主题和附加功能的实现后，理解其他人的模板应该会容易得多。Hugo 主题有很多，但它们之间的主要区别通常在于风格。模板的基本组件通常是相似的。</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="7">
<li id="fn7"><p>模板最常见的功能是呈现 HTML 页面，但也可以有特殊的模板，例如用于 RSS 提要和站点地图（它们是 XML 文件）的模板。<a href="templates.html#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>在我看来，它确实应该被称为 “merge request”。<a href="templates.html#fnref8" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="themes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="custom-layouts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/blogdown/edit/main/docs/02-hugo.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["blogdown-book-zh-cn.pdf", "blogdown-book-zh-cn.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
